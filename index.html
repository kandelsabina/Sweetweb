<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Love Story üíï</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', 'Poppins', cursive, sans-serif;
    background: linear-gradient(135deg, #ffe4ec 0%, #ffd1dc 50%, #ffb3c6 100%);
    color: #333;
    min-height: 100vh;
    overflow-x: hidden;
}

/* Floating Hearts Background */
.heart-bg {
    position: fixed;
    font-size: 30px;
    opacity: 0.3;
    animation: float 15s infinite;
    pointer-events: none;
}

@keyframes float {
    0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
    50% { opacity: 0.5; }
    100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
}

/* Main Container */
.container {
    width: 100%;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

/* Proposal Screen */
.proposal-screen {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    min-height: 100vh;
    text-align: center;
    animation: fadeIn 1s ease;
}

.proposal-card {
    background: white;
    border-radius: 30px;
    padding: 60px 40px;
    box-shadow: 0 20px 60px rgba(255,77,109,0.3);
    max-width: 600px;
    animation: slideUp 0.8s ease;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(50px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.proposal-emoji {
    font-size: 100px;
    margin-bottom: 20px;
    animation: bounce 1s infinite;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}

.proposal-title {
    font-size: 48px;
    color: #ff4d6d;
    margin-bottom: 20px;
    font-weight: bold;
}

.proposal-text {
    font-size: 24px;
    color: #d6336c;
    margin-bottom: 40px;
    line-height: 1.6;
}

.proposal-buttons {
    display: flex;
    gap: 30px;
    justify-content: center;
    flex-wrap: wrap;
}

.btn {
    padding: 18px 50px;
    font-size: 20px;
    font-weight: bold;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}

.btn-yes {
    background: linear-gradient(135deg, #ff6b9d, #ff4d6d);
    color: white;
}

.btn-yes:hover {
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 15px 40px rgba(255,77,109,0.5);
}

.btn-no {
    background: #f0f0f0;
    color: #666;
}

.btn-no:hover {
    background: #e0e0e0;
    transform: translateY(-3px);
}

/* Name Input Screen */
.name-input-screen {
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    min-height: 100vh;
    animation: fadeIn 1s ease;
}

.name-card {
    background: white;
    border-radius: 30px;
    padding: 60px 40px;
    box-shadow: 0 20px 60px rgba(255,77,109,0.3);
    max-width: 600px;
    animation: slideUp 0.8s ease;
}

.name-title {
    font-size: 36px;
    color: #ff4d6d;
    margin-bottom: 30px;
    font-weight: bold;
}

.input-group {
    margin-bottom: 25px;
}

.input-group label {
    display: block;
    font-size: 18px;
    color: #d6336c;
    margin-bottom: 10px;
    font-weight: bold;
}

.input-group input {
    width: 100%;
    padding: 15px;
    font-size: 16px;
    border: 2px solid #ffb3c6;
    border-radius: 15px;
    background: #fff5f7;
    transition: all 0.3s ease;
}

.input-group input:focus {
    outline: none;
    border-color: #ff4d6d;
    box-shadow: 0 0 15px rgba(255,77,109,0.2);
}

.name-submit-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, #ff6b9d, #ff4d6d);
    color: white;
    font-size: 18px;
    font-weight: bold;
    border: none;
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
}

.name-submit-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(255,77,109,0.4);
}

/* Love Story Screen */
.story-screen {
    display: none;
    animation: fadeIn 1s ease;
    padding-bottom: 100px;
}

.story-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 40px 20px;
}

.story-header {
    text-align: center;
    margin-bottom: 60px;
}

.story-title {
    font-size: 56px;
    color: #ff4d6d;
    margin-bottom: 20px;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

.story-subtitle {
    font-size: 24px;
    color: #d6336c;
    margin-bottom: 10px;
}

/* Love Percentage */
.percentage-box {
    background: linear-gradient(135deg, #ff6b9d, #ff4d6d);
    border-radius: 30px;
    padding: 40px;
    text-align: center;
    margin: 40px 0;
    color: white;
    box-shadow: 0 15px 40px rgba(255,77,109,0.3);
    animation: slideUp 0.8s ease;
}

.percentage-label {
    font-size: 24px;
    margin-bottom: 15px;
    opacity: 0.9;
}

.percentage-value {
    font-size: 72px;
    font-weight: bold;
    margin-bottom: 15px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}

.percentage-message {
    font-size: 20px;
    opacity: 0.95;
    line-height: 1.6;
}

/* Story Content */
.story-content {
    background: white;
    border-radius: 20px;
    padding: 40px;
    margin: 30px 0;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    line-height: 2;
}

.story-paragraph {
    font-size: 18px;
    color: #555;
    margin-bottom: 25px;
    text-align: justify;
}

.story-chapter {
    margin: 50px 0;
}

.chapter-title {
    font-size: 32px;
    color: #ff4d6d;
    margin-bottom: 20px;
    font-weight: bold;
    border-left: 5px solid #ff4d6d;
    padding-left: 20px;
}

.chapters-container {
    display: grid;
    gap: 30px;
    margin: 40px 0;
}

.chapter-card {
    background: linear-gradient(135deg, #fff5f7, #ffe4ec);
    border-radius: 20px;
    padding: 30px;
    border-left: 5px solid #ff4d6d;
    transition: all 0.3s ease;
    cursor: pointer;
}

.chapter-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(255,77,109,0.2);
}

.chapter-number {
    font-size: 48px;
    color: #ff4d6d;
    font-weight: bold;
    margin-bottom: 10px;
}

.chapter-text {
    font-size: 18px;
    color: #555;
    line-height: 1.8;
}

/* Rejection Screen */
.rejection-screen {
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    min-height: 100vh;
    animation: fadeIn 1s ease;
    padding: 20px;
}

.rejection-card {
    background: white;
    border-radius: 30px;
    padding: 60px 40px;
    box-shadow: 0 20px 60px rgba(255,77,109,0.3);
    max-width: 600px;
    text-align: center;
    animation: slideUp 0.8s ease;
}

.rejection-emoji {
    font-size: 80px;
    margin-bottom: 20px;
    animation: wiggle 0.6s infinite;
}

@keyframes wiggle {
    0%, 100% { transform: rotate(-5deg); }
    50% { transform: rotate(5deg); }
}

.rejection-title {
    font-size: 42px;
    color: #ff4d6d;
    margin-bottom: 20px;
    font-weight: bold;
}

.rejection-message {
    font-size: 20px;
    color: #d6336c;
    margin-bottom: 30px;
    line-height: 1.8;
}

.rejection-story {
    background: #fff5f7;
    border-radius: 20px;
    padding: 30px;
    margin-bottom: 30px;
    font-size: 18px;
    color: #555;
    line-height: 1.8;
    text-align: left;
}

.retry-btn {
    padding: 15px 50px;
    background: linear-gradient(135deg, #ff6b9d, #ff4d6d);
    color: white;
    font-size: 18px;
    font-weight: bold;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    box-shadow: 0 8px 20px rgba(255,77,109,0.4);
}

.retry-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(255,77,109,0.6);
}

/* Final Message */
.final-message {
    background: linear-gradient(135deg, #ff6b9d, #ff4d6d);
    color: white;
    border-radius: 20px;
    padding: 40px;
    text-align: center;
    margin: 40px 0;
    box-shadow: 0 15px 40px rgba(255,77,109,0.3);
}

.final-emoji {
    font-size: 60px;
    margin-bottom: 15px;
    animation: bounce 1s infinite;
}

.final-text {
    font-size: 22px;
    line-height: 1.8;
    opacity: 0.95;
}

/* Navigation Buttons */
.nav-buttons {
    text-align: center;
    margin-top: 50px;
    padding-top: 30px;
    border-top: 2px solid #ffb3c6;
}

.nav-btn {
    padding: 12px 30px;
    background: linear-gradient(135deg, #ff6b9d, #ff4d6d);
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    transition: all 0.3s ease;
    margin: 0 10px;
    text-transform: uppercase;
}

.nav-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(255,77,109,0.3);
}

/* Valentine Week Screen */
.week-screen {
    display: none;
    animation: fadeIn 1s ease;
    padding-bottom: 100px;
}

.week-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 20px;
}

.week-header {
    text-align: center;
    margin-bottom: 60px;
}

.week-title {
    font-size: 56px;
    color: #ff4d6d;
    margin-bottom: 15px;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

.week-subtitle {
    font-size: 24px;
    color: #d6336c;
    margin-bottom: 10px;
}

.week-intro {
    font-size: 18px;
    color: #666;
    max-width: 800px;
    margin: 20px auto;
    line-height: 1.8;
}

/* Days Grid */
.days-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 25px;
    margin: 50px 0;
}

.day-card {
    background: white;
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    transition: all 0.4s ease;
    border-top: 5px solid #ff4d6d;
    cursor: pointer;
}

.day-card:hover {
    transform: translateY(-15px);
    box-shadow: 0 20px 50px rgba(255,77,109,0.3);
}

.day-emoji {
    font-size: 60px;
    margin-bottom: 15px;
    display: block;
}

.day-name {
    font-size: 28px;
    color: #ff4d6d;
    font-weight: bold;
    margin-bottom: 15px;
}

.day-date {
    font-size: 14px;
    color: #999;
    margin-bottom: 20px;
    font-style: italic;
}

.day-story {
    font-size: 16px;
    color: #555;
    line-height: 1.8;
    margin-bottom: 20px;
}

.day-activities {
    background: #fff5f7;
    border-radius: 15px;
    padding: 20px;
    margin-top: 20px;
}

.activities-title {
    font-size: 14px;
    color: #ff4d6d;
    font-weight: bold;
    margin-bottom: 10px;
    text-transform: uppercase;
}

.activities-list {
    font-size: 14px;
    color: #666;
    line-height: 1.8;
}

.activities-list li {
    margin-bottom: 8px;
}

/* Expanded Day View */
.day-expanded {
    display: none;
    animation: fadeIn 1s ease;
    padding-bottom: 100px;
}

.expanded-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 40px 20px;
}

.expanded-header {
    text-align: center;
    margin-bottom: 40px;
}

.expanded-emoji {
    font-size: 100px;
    margin-bottom: 20px;
    display: block;
}

.expanded-title {
    font-size: 48px;
    color: #ff4d6d;
    margin-bottom: 10px;
    font-weight: bold;
}

.expanded-date {
    font-size: 18px;
    color: #d6336c;
    margin-bottom: 30px;
}

.expanded-content {
    background: white;
    border-radius: 20px;
    padding: 40px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.expanded-story {
    font-size: 18px;
    color: #555;
    line-height: 2;
    margin-bottom: 30px;
}

.expanded-activities {
    background: linear-gradient(135deg, #fff5f7, #ffe4ec);
    border-radius: 15px;
    padding: 30px;
    margin-bottom: 30px;
    border-left: 5px solid #ff4d6d;
}

.expanded-activities-title {
    font-size: 24px;
    color: #ff4d6d;
    font-weight: bold;
    margin-bottom: 20px;
}

.expanded-activities-list {
    font-size: 16px;
    color: #555;
    line-height: 2;
}

.expanded-activities-list li {
    margin-bottom: 15px;
}

/* Countdown Timer */
.countdown-section {
    background: linear-gradient(135deg, #ff6b9d, #ff4d6d);
    border-radius: 20px;
    padding: 30px;
    margin: 30px 0;
    color: white;
    text-align: center;
}

.countdown-label {
    font-size: 18px;
    opacity: 0.9;
    margin-bottom: 15px;
    display: block;
}

.countdown-display {
    font-size: 36px;
    font-weight: bold;
    margin: 20px 0;
    font-family: 'Courier New', monospace;
    letter-spacing: 2px;
}

/* Sweet Message */
.sweet-message {
    background: linear-gradient(135deg, #fff5f7, #ffe4ec);
    border-radius: 20px;
    padding: 30px;
    margin: 30px 0;
    border-left: 5px solid #ff4d6d;
}

.sweet-message-title {
    font-size: 20px;
    color: #ff4d6d;
    font-weight: bold;
    margin-bottom: 15px;
}

.sweet-message-text {
    font-size: 18px;
    color: #666;
    line-height: 1.8;
    font-style: italic;
}

/* Music Player */
.music-section {
    background: white;
    border-radius: 20px;
    padding: 30px;
    margin: 30px 0;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.music-title {
    font-size: 22px;
    color: #ff4d6d;
    font-weight: bold;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.music-player {
    width: 100%;
    background: linear-gradient(135deg, #fff5f7, #ffe4ec);
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 15px;
}

.music-player audio {
    width: 100%;
    cursor: pointer;
}

.music-playlist {
    display: grid;
    gap: 15px;
}

.music-item-wrapper {
    background: #f9f9f9;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
    transition: all 0.3s ease;
    border-left: 4px solid #ffb3c6;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.music-item-wrapper:hover {
    background: #f5f5f5;
    border-left-color: #ff4d6d;
    box-shadow: 0 4px 12px rgba(255, 77, 109, 0.2);
}

.music-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
}

.music-play-btn {
    font-size: 28px;
    min-width: 35px;
}

.music-info {
    flex: 1;
}

.music-name {
    font-weight: 600;
    color: #333;
    font-size: 16px;
}

.music-artist {
    color: #666;
    font-size: 14px;
    margin-top: 2px;
}

.music-player-container {
    border-radius: 8px;
    overflow: hidden;
    background: #000;
    aspect-ratio: 16 / 9;
}

.music-info {
    flex: 1;
}

.music-name {
    font-size: 16px;
    font-weight: bold;
    color: #333;
}

.music-artist {
    font-size: 14px;
    color: #999;
}

.music-links {
    display: flex;
    gap: 8px;
}

/* Day Countdown Grid */
.day-countdown {
    background: rgba(255, 77, 109, 0.05);
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid rgba(255, 77, 109, 0.2);
}

.day-countdown-name {
    font-weight: bold;
    color: #ff4d6d;
}

.day-countdown-time {
    font-size: 14px;
    color: #666;
}

/* Responsive */
@media (max-width: 768px) {
    .proposal-card, .name-card, .rejection-card {
        padding: 40px 20px;
        margin: 20px;
    }

    .proposal-title, .story-title {
        font-size: 36px;
    }

    .proposal-text {
        font-size: 18px;
    }

    .percentage-value {
        font-size: 52px;
    }

    .btn {
        padding: 15px 30px;
        font-size: 16px;
    }

    .proposal-buttons {
        gap: 15px;
    }

    .music-item-wrapper {
        padding: 15px;
    }

    .music-header {
        flex-direction: column;
        align-items: flex-start;
        margin-bottom: 12px;
    }

    .music-player-container {
        height: 250px;
        text-align: center;
    }

    .story-paragraph, .chapter-text, .rejection-message {
        font-size: 16px;
    }
}
</style>
</head>
<body>

<!-- Floating Hearts Background -->
<div id="heartContainer"></div>

<!-- Proposal Screen -->
<div class="proposal-screen" id="proposalScreen">
    <div class="proposal-card">
        <div class="proposal-emoji">üíù</div>
        <div class="proposal-title">Will You Be My Valentine?</div>
        <div class="proposal-text">
            I have a beautiful love story to share with you. 
            <br><br>
            Will you be part of this magical journey?
        </div>
        <div class="proposal-buttons">
            <button class="btn btn-yes" onclick="sayYes()">Yes! üíï</button>
            <button class="btn btn-no" onclick="sayNo()">No üò¢</button>
        </div>
    </div>
</div>

<!-- Name Input Screen -->
<div class="name-input-screen" id="nameInputScreen">
    <div class="name-card">
        <div class="name-title">Tell Me Your Beautiful Names üíë</div>
        <form onsubmit="startStory(event)">
            <div class="input-group">
                <label>Your Name:</label>
                <input type="text" id="yourName" placeholder="Enter your name" required>
            </div>
            <div class="input-group">
                <label>Their Name:</label>
                <input type="text" id="theirName" placeholder="Enter their name" required>
            </div>
            <button type="submit" class="name-submit-btn">Begin Our Love Story üíò</button>
        </form>
    </div>
</div>

<!-- Love Story Screen -->
<div class="story-screen" id="storyScreen">
    <div class="story-container">
        <div class="story-header">
            <div class="story-title" id="storyTitle">Our Love Story</div>
            <div class="story-subtitle" id="storySubtitle">A Journey of Two Hearts</div>
        </div>

        <!-- Love Percentage -->
        <div class="percentage-box">
            <div class="percentage-label">‚ú® Our Love Compatibility ‚ú®</div>
            <div class="percentage-value" id="lovePercentage">0%</div>
            <div class="percentage-message" id="percentageMessage">Loading your love story...</div>
        </div>

        <!-- Story Chapters -->
        <div class="story-content">
            <div class="story-chapter">
                <div class="chapter-title">Chapter 1: The First Moment</div>
                <div class="story-paragraph" id="chapter1">
                    Loading your beautiful story...
                </div>
            </div>

            <div class="story-chapter">
                <div class="chapter-title">Chapter 2: Growing Together</div>
                <div class="story-paragraph" id="chapter2">
                    Loading your beautiful story...
                </div>
            </div>

            <div class="story-chapter">
                <div class="chapter-title">Chapter 3: Deeper Connection</div>
                <div class="story-paragraph" id="chapter3">
                    Loading your beautiful story...
                </div>
            </div>

            <div class="story-chapter">
                <div class="chapter-title">Chapter 4: Forever Promise</div>
                <div class="story-paragraph" id="chapter4">
                    Loading your beautiful story...
                </div>
            </div>

            <div class="final-message">
                <div class="final-emoji">üíï</div>
                <div class="final-text" id="finalMessage">
                    Loading your message...
                </div>
            </div>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn" onclick="viewWeekPlan()">View Our Valentine Week Plan üíë</button>
            <button class="nav-btn" onclick="goBack()">‚Üê Back to Start</button>
        </div>
    </div>
</div>

<!-- Valentine Week Screen -->
<div class="week-screen" id="weekScreen">
    <div class="week-container">
        <div class="week-header">
            <div class="week-title" id="weekTitle">Our Valentine's Week üíë</div>
            <div class="week-subtitle">7 Days of Love & Celebration</div>
            <p class="week-intro" id="weekIntro">
                A complete journey through Valentine's Week with special moments, stories, and activities planned for each beautiful day.
            </p>
        </div>

        <div class="days-grid" id="daysGrid">
            <!-- Days will be populated here -->
        </div>

        <div class="nav-buttons">
            <button class="nav-btn" onclick="backToStory()">‚Üê Back to Our Story</button>
        </div>
    </div>
</div>

<!-- Expanded Day View -->
<div class="day-expanded" id="dayExpanded">
    <div class="expanded-container">
        <div class="expanded-header">
            <span class="expanded-emoji" id="expandedEmoji">üíï</span>
            <div class="expanded-title" id="expandedTitle">Day Name</div>
            <div class="expanded-date" id="expandedDate">Date</div>
        </div>

        <div class="expanded-content">
            <div class="expanded-story" id="expandedStory">
                Loading...
            </div>

            <!-- Countdown Timer -->
            <div class="countdown-section">
                <span class="countdown-label">‚è∞ Time Until This Day</span>
                <div class="countdown-display" id="countdownDisplay">Calculating...</div>
            </div>

            <!-- Sweet Message -->
            <div class="sweet-message">
                <div class="sweet-message-title">üíå A Sweet Message For You Both</div>
                <div class="sweet-message-text" id="sweetMessage">Loading...</div>
            </div>

            <!-- Music Player -->
            <div class="music-section">
                <div class="music-title">üéµ Romantic Music For This Moment</div>
                <div class="music-playlist" id="musicPlaylist">
                    Loading music...
                </div>
            </div>

            <div class="expanded-activities">
                <div class="expanded-activities-title">üéØ What to Do This Day</div>
                <ul class="expanded-activities-list" id="expandedActivities">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn" onclick="viewWeekPlan()">‚Üê Back to Week Plan</button>
        </div>
    </div>
</div>

<!-- Rejection Screen -->
<div class="rejection-screen" id="rejectionScreen">
    <div class="rejection-card">
        <div class="rejection-emoji">üò¢</div>
        <div class="rejection-title">Oops... You Broke My Heart</div>
        <div class="rejection-message">
            But here's the thing... I still love you ‚ù§Ô∏è
        </div>

        <div class="rejection-story">
            <p style="margin-bottom: 15px; font-size: 20px; font-weight: bold; color: #ff4d6d;">
                üíù A Message From My Heart üíù
            </p>
            <p style="margin-bottom: 15px;">
                Your rejection stings, but it doesn't change how I feel. In this beautiful world full of endless possibilities, I saw something magical in us. Maybe it wasn't the right time, or perhaps you couldn't see what I see.
            </p>
            <p style="margin-bottom: 15px;">
                But love isn't about forcing someone to feel the same way. Real love means respecting your choice, even when it breaks my heart into a thousand pieces. So here I am, telling you goodbye, but not because I've stopped loving you. I'm saying goodbye because that's what you need.
            </p>
            <p style="margin-bottom: 15px;">
                Remember me not as the person who loved you too much, but as someone who loved you purely. And whenever you see a heart, know that somewhere out there, mine still beats for the memory of what we could have been.
            </p>
            <p style="margin-bottom: 0;">
                Forever, even in goodbye,
                <br><br>
                üíî Your Admirer üíî
            </p>
        </div>

        <p style="font-size: 18px; color: #d6336c; margin: 30px 0; font-style: italic;">
            "Love isn't about someone choosing you. It's about you choosing to love anyway." - Unknown
        </p>

        <button class="retry-btn" onclick="startOver()">Give Me Another Chance üíï</button>
    </div>
</div>

<script>
// Create floating hearts
function createFloatingHearts() {
    const container = document.getElementById('heartContainer');
    const hearts = ['üíï', 'üíñ', 'üíó', 'üíò', 'üíù'];
    
    setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'heart-bg';
        heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDuration = (8 + Math.random() * 8) + 's';
        container.appendChild(heart);
        
        setTimeout(() => heart.remove(), 16000);
    }, 1500);
}

// Handle YES click
function sayYes() {
    document.getElementById('proposalScreen').style.display = 'none';
    document.getElementById('nameInputScreen').style.display = 'flex';
}

// Handle NO click
function sayNo() {
    document.getElementById('proposalScreen').style.display = 'none';
    document.getElementById('rejectionScreen').style.display = 'flex';
}

// Start the love story
function startStory(event) {
    event.preventDefault();
    
    const yourName = document.getElementById('yourName').value.trim();
    const theirName = document.getElementById('theirName').value.trim();
    
    if (!yourName || !theirName) {
        alert('Please enter both names!');
        return;
    }
    
    // Calculate love percentage
    const lovePercentage = calculateLovePercentage(yourName, theirName);
    
    // Generate story based on percentage
    generateLoveStory(yourName, theirName, lovePercentage);
    
    // Show story screen
    document.getElementById('nameInputScreen').style.display = 'none';
    document.getElementById('storyScreen').style.display = 'block';
    document.getElementById('storyScreen').scrollIntoView({ behavior: 'smooth' });
}

// Calculate love percentage using hash
function calculateLovePercentage(name1, name2) {
    const combined = (name1 + name2).toLowerCase();
    let hash = 0;
    
    for (let i = 0; i < combined.length; i++) {
        const char = combined.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash;
    }
    
    return Math.abs(hash % 101);
}

// Generate personalized love story
function generateLoveStory(yourName, theirName, percentage) {
    const stories = {
        chapter1: [
            `The day you entered ${theirName}'s life, everything changed. Not with fireworks or grand gestures, but with a quiet certainty that felt like coming home. ${yourName} didn't believe in love at first sight until that moment. There was something in ${theirName}'s eyes that spoke of kindness, of dreams, of a soul that matched yours in ways you couldn't explain.`,
            `In a crowded room full of strangers, ${yourName} found ${theirName}. It was like the world had conspired to bring two lost souls together. That first conversation felt like recognizing someone you'd known your whole life. As time unfolded, ${yourName} realized that meeting ${theirName} wasn't luck‚Äîit was destiny.`,
            `${yourName} remembers the exact moment. It wasn't planned, wasn't expected, but when ${theirName} smiled, something inside ${yourName} shifted forever. This wasn't just attraction‚Äîit was a recognition. A knowing. Like two puzzle pieces finally finding where they belonged.`
        ],
        chapter2: [
            `Days turned into weeks, and weeks into months of beautiful discovery. ${yourName} and ${theirName} learned each other's dreams, fears, and hopes. Every conversation peeled back layers, revealing a connection that grew stronger with each passing moment. They found comfort in shared silences and laughter in the smallest moments.`,
            `Growing together meant being vulnerable. It meant showing ${theirName} the parts of ${yourName} that were broken, and watching as ${theirName} didn't run away but instead stayed, held them close, and whispered that they were enough. ${theirName} did the same, and in that exchange of raw honesty, something beautiful was born.`,
            `The love between ${yourName} and ${theirName} wasn't perfect‚Äîbut it was real. It was in the morning coffee shared before the sun rose. It was in inside jokes that made no sense to anyone else. It was in the way they could communicate with just a glance. This was what real love looked like.`
        ],
        chapter3: [
            `As seasons changed, so did their bond. ${yourName} discovered that love wasn't just the butterflies or the racing heart‚Äîit was choosing ${theirName} on the ordinary days too. It was standing beside ${theirName} when the world felt too heavy, and believing in their dreams even when they couldn't believe in themselves.`,
            `${theirName} became ${yourName}'s safe harbor. In a world that kept asking them to be more, to do more, to be someone else‚Äî${theirName} simply loved them as they were. And ${yourName} did the same. They created a sanctuary together, a place where both could be beautifully, authentically themselves.`,
            `The deeper they fell, the more ${yourName} understood that this love was rare. In a sea of temporary connections, what they had was eternal. ${theirName} wasn't just a lover‚Äî${theirName} was a best friend, a soulmate, a home in human form.`
        ],
        chapter4: [
            `${yourName} stood before ${theirName} and made a promise. Not just for today, not just for tomorrow, but for all the tomorrows that would come. Through storms and sunshine, through challenges and triumphs, ${yourName} promised to love ${theirName}. To choose them. To fight for them. Forever.`,
            `This is where the story takes its most beautiful turn. This is where ${yourName} and ${theirName} understand that love isn't the destination‚Äîit's the journey. And they want to take this journey together for the rest of their lives. Hand in hand. Heart to heart.`,
            `And so, as ${yourName} looks into ${theirName}'s eyes, they both know the truth: they've found something worth keeping. Something worth fighting for. Something worth forever. This is their love story, and it's just beginning.`
        ]
    };

    // Select random story variations
    const chapter1 = stories.chapter1[Math.floor(Math.random() * stories.chapter1.length)];
    const chapter2 = stories.chapter2[Math.floor(Math.random() * stories.chapter2.length)];
    const chapter3 = stories.chapter3[Math.floor(Math.random() * stories.chapter3.length)];
    const chapter4 = stories.chapter4[Math.floor(Math.random() * stories.chapter4.length)];

    // Display chapters
    document.getElementById('chapter1').textContent = chapter1;
    document.getElementById('chapter2').textContent = chapter2;
    document.getElementById('chapter3').textContent = chapter3;
    document.getElementById('chapter4').textContent = chapter4;

    // Display love percentage and message
    document.getElementById('lovePercentage').textContent = percentage + '%';
    
    let percentageMessage = '';
    if (percentage >= 95) {
        percentageMessage = `üî• Perfect Match! ${yourName} and ${theirName} are made for each other! A love that's written in the stars!`;
    } else if (percentage >= 85) {
        percentageMessage = `üíï Incredible Connection! ${yourName} and ${theirName} are truly soulmates! A love that will last forever!`;
    } else if (percentage >= 75) {
        percentageMessage = `üíñ Great Compatibility! ${yourName} and ${theirName} have a beautiful love story ahead!`;
    } else if (percentage >= 60) {
        percentageMessage = `üíó Good Potential! ${yourName} and ${theirName} can build something beautiful together!`;
    } else if (percentage >= 40) {
        percentageMessage = `üíù Possible Love! ${yourName} and ${theirName} have the foundation for something special!`;
    } else {
        percentageMessage = `‚ù§Ô∏è A Unique Bond! ${yourName} and ${theirName} will write their own love story!`;
    }
    
    document.getElementById('percentageMessage').textContent = percentageMessage;
    
    // Final message
    const finalMessage = `${yourName} and ${theirName}, this is your love story. It may not be perfect, but it's yours. And in a world of temporary things, choosing to love each other forever is the most beautiful choice you'll ever make. üíï`;
    document.getElementById('finalMessage').textContent = finalMessage;

    // Update titles
    document.getElementById('storyTitle').textContent = `${yourName} & ${theirName}`;
    document.getElementById('storySubtitle').textContent = 'A Love Story Written in the Stars ‚ú®';
}

// Go back to start
function goBack() {
    document.getElementById('proposalScreen').style.display = 'flex';
    document.getElementById('storyScreen').style.display = 'none';
    document.getElementById('rejectionScreen').style.display = 'none';
    document.getElementById('nameInputScreen').style.display = 'none';
    
    // Clear inputs
    document.getElementById('yourName').value = '';
    document.getElementById('theirName').value = '';
    
    document.getElementById('proposalScreen').scrollIntoView({ behavior: 'smooth' });
}

// Try again from rejection
function startOver() {
    document.getElementById('rejectionScreen').style.display = 'none';
    document.getElementById('proposalScreen').style.display = 'flex';
    document.getElementById('proposalScreen').scrollIntoView({ behavior: 'smooth' });
}

// Valentine's Week Data
const valentineWeek = [
    {
        day: 1,
        name: "Rose Day",
        emoji: "üåπ",
        date: "February 7",
        story: "Rose Day marks the beginning of Valentine's Week, a celebration of love's first whispers. It's a day to express admiration and affection through the timeless symbol of a rose. Just as a rose blooms with delicate beauty, your love story is beginning to unfold in the most magical way. The crimson petals represent not just passion, but the care, attention, and devotion that comes with true love.",
        sweetMessage: (yourName, theirName) => `${yourName}, today as you give ${theirName} a rose, remember that they are the most beautiful bloom in your garden. Every petal represents a reason you love them. ${theirName}, this rose is not just a flower‚Äîit's a promise of admiration that will never wilt. üåπüíï`,
        music: [
            { name: "Perfect", artist: "Ed Sheeran", type: "search" },
            { name: "All of Me", artist: "John Legend", type: "search" },
            { name: "Thinking Out Loud", artist: "Ed Sheeran", type: "search" }
        ],
        activities: [
            "üíå Give each other a beautiful rose or flowers",
            "üåπ Share what you love most about each other",
            "üì∏ Take photos together in a garden or flower shop",
            "üíå Write a heartfelt note expressing your admiration",
            "üçΩÔ∏è Have a romantic dinner under candlelight",
            "üéµ Create a playlist of songs that remind you of each other"
        ]
    },
    {
        day: 2,
        name: "Propose Day",
        emoji: "üíç",
        date: "February 8",
        story: "Propose Day is about taking that leap of faith and asking the most important question. Whether it's a marriage proposal or a promise of forever, this day celebrates commitment and the courage to ask someone to be your forever. It's about vulnerability, honesty, and saying the words that matter most. On this day, two hearts unite with a promise that transcends time itself.",
        sweetMessage: (yourName, theirName) => `${yourName}, today you ask the biggest question of your life. ${theirName}, prepare your heart for the most important 'yes' you'll ever say. This moment marks the beginning of forever‚Äîa future written in both your dreams. üíç‚ú®`,
        music: [
            { name: "Marry Me", artist: "Jason Derulo", type: "search" },
            { name: "Forever and Always", artist: "Parachute", type: "search" },
            { name: "From This Moment On", artist: "Shania Twain", type: "search" }
        ],
        activities: [
            "üíç Plan a special surprise proposal or renewal of vows",
            "üéÅ Exchange meaningful gifts or rings",
            "üí¨ Have deep conversations about your future together",
            "üçæ Celebrate with champagne or special beverages",
            "üìù Write down your promises to each other",
            "üéâ Share the news with loved ones",
            "üíë Take couple's photos to commemorate the moment"
        ]
    },
    {
        day: 3,
        name: "Chocolate Day",
        emoji: "üç´",
        date: "February 9",
        story: "Chocolate Day celebrates the sweetness of love. Just as chocolate melts on your tongue and brings joy, love sweetens every moment of life. It's a day to indulge in the small pleasures together, to enjoy the richness of companionship, and to savor every second spent with your beloved. Chocolate represents not just sweetness, but comfort, warmth, and the luxurious feeling of being loved.",
        sweetMessage: (yourName, theirName) => `${yourName} and ${theirName}, like chocolate, your love is rich, luxurious, and brings warmth to every moment. Today, as you share something sweet, remember that the sweetest thing in your life is each other. Every moment together tastes like happiness. üç´üíï`,
        music: [
            { name: "Chocolate", artist: "Snow Patrol", type: "search" },
            { name: "Sugar", artist: "Maroon 5", type: "search" },
            { name: "Sweetest Thing", artist: "U2", type: "search" }
        ],
        activities: [
            "üç´ Share a box of chocolates together",
            "üë®‚Äçüç≥ Make homemade chocolate desserts together",
            "üç∞ Visit a chocolate shop or caf√©",
            "üíù Create a chocolate tasting experience",
            "üõÅ Enjoy a chocolate-scented bath together",
            "üéÇ Bake a chocolate cake and feed each other",
            "üç´ Have a chocolate fondue night with fruits"
        ]
    },
    {
        day: 4,
        name: "Teddy Day",
        emoji: "üß∏",
        date: "February 10",
        story: "Teddy Day celebrates the comfort and warmth that comes with unconditional love. A teddy bear symbolizes comfort, protection, and the innocent purity of affection. It's a day to embrace each other, to find solace in each other's arms, and to remind your partner that you'll always be there to comfort them. Like a teddy bear, love provides warmth through the coldest nights.",
        sweetMessage: (yourName, theirName) => `${yourName}, hold ${theirName} close today like a precious teddy bear you never want to let go. ${theirName}, be the comfort that ${yourName} always comes back to. In each other's arms is where you both belong‚Äîsafe, warm, and infinitely loved. üß∏üíï`,
        music: [
            { name: "Warm Embrace", artist: "Matt Nathanson", type: "search" },
            { name: "Your Body Is a Wonderland", artist: "John Mayer", type: "search" },
            { name: "Better Together", artist: "Jack Johnson", type: "search" }
        ],
        activities: [
            "üß∏ Give each other matching teddy bears or plushies",
            "ü§ó Have a cozy cuddle session with blankets and pillows",
            "üçø Watch your favorite romantic movies together",
            "‚òï Have hot chocolate while snuggled up",
            "üí§ Create a comfortable cozy corner together",
            "üìñ Read stories to each other",
            "üß∏ Take cute couple photos with plushies"
        ]
    },
    {
        day: 5,
        name: "Promise Day",
        emoji: "ü§ù",
        date: "February 11",
        story: "Promise Day is about making vows and commitments that will last a lifetime. It's not just about grand gestures, but small promises to be there through thick and thin. To listen when they need to talk, to hold them when they cry, and to celebrate their victories as if they were your own. Every promise made on this day becomes the foundation of a lasting relationship.",
        sweetMessage: (yourName, theirName) => `${yourName}, today you promise your forever to ${theirName}. Not the perfect forever, but the real one‚Äîwith honest words, open hearts, and unwavering commitment. ${theirName}, these promises are sacred. They are the foundation of everything beautiful you'll build together. ü§ùüíï`,
        music: [
            { name: "I Will Follow You Into The Dark", artist: "Death Cab for Cutie", type: "search" },
            { name: "In My Veins", artist: "Andrew Belle", type: "search" },
            { name: "The Promise", artist: "Sam Tsui", type: "search" }
        ],
        activities: [
            "ü§ù Exchange written promises to each other",
            "üíï Make promises you'll keep forever",
            "üìñ Create a 'Promise Jar' and add promises regularly",
            "üíå Write a letter of commitment",
            "üïØÔ∏è Light candles while making your promises",
            "üéÅ Create matching promise rings or bracelets",
            "üì∏ Take a photo sealing your promises"
        ]
    },
    {
        day: 6,
        name: "Kiss Day",
        emoji: "üòò",
        date: "February 12",
        story: "Kiss Day celebrates the magic of affection and connection. A kiss is more than just a physical act‚Äîit's a language of love that words cannot express. It's the moment when two souls touch, when vulnerability meets trust, and when passion speaks louder than words. Every kiss is a promise, a question, an answer, and a celebration all at once.",
        sweetMessage: (yourName, theirName) => `${yourName}, every kiss with ${theirName} is a conversation your hearts have with each other. ${theirName}, ${yourName}'s lips taste like home, like forever, like everything you've been waiting for. Today, let every kiss remind you that you are loved beyond words. üòòüíï`,
        music: [
            { name: "Kiss Me", artist: "Sixpence None the Richer", type: "search" },
            { name: "The Way", artist: "Fastball", type: "search" },
            { name: "Kissing You", artist: "Des'ree", type: "search" }
        ],
        activities: [
            "üòò Share multiple romantic kisses throughout the day",
            "üíã Learn about different kiss styles and meanings",
            "üåô Have a sunset or starlit kiss",
            "üé¨ Watch romantic kiss scenes from movies",
            "üíê Kiss in different romantic locations",
            "üéµ Kiss while dancing to your favorite love song",
            "üìù Write love notes hiding kisses (lip prints) in them"
        ]
    },
    {
        day: 7,
        name: "Valentine's Day",
        emoji: "üíï",
        date: "February 14",
        story: "Valentine's Day is the culmination of a week of love celebration. It's the day when the entire world joins in celebrating romance and affection. But for you, it's more than just a day‚Äîit's a milestone in your love story. It's a moment to reflect on how far you've come, to appreciate every moment shared, and to look forward to a lifetime of beautiful tomorrows together. This is the day you celebrate not just love, but YOUR love.",
        sweetMessage: (yourName, theirName) => `${yourName} and ${theirName}, today the world celebrates love, but you have each other every day. This is not just Valentine's Day‚Äîthis is the day you celebrate the greatest love story ever written, the one only you two can tell. Happy Valentine's Day to the love of each other's lives. üíïüíï`,
        music: [
            { name: "Love Me Like You Do", artist: "Ellie Goulding", type: "search" },
            { name: "Make You Feel My Love", artist: "Adele", type: "search" },
            { name: "At Last", artist: "Etta James", type: "search" }
        ],
        activities: [
            "üíï Exchange thoughtful Valentine's Day gifts",
            "üçΩÔ∏è Have a romantic dinner reservation",
            "üíå Exchange love letters",
            "üéÅ Plan a surprise getaway or staycation",
            "üåπ Create a romantic atmosphere at home",
            "üíë Renew your vows or make new commitments",
            "üéâ Celebrate with family and friends if desired",
            "üîî Start planning for your future together"
        ]
    }
];

// Display Valentine's Week Plan
function viewWeekPlan() {
    document.getElementById('storyScreen').style.display = 'none';
    document.getElementById('weekScreen').style.display = 'block';
    
    const yourName = document.getElementById('yourName').value;
    const theirName = document.getElementById('theirName').value;
    
    // Personalize the week intro
    document.getElementById('weekIntro').textContent = 
        `${yourName} and ${theirName}, this is your special Valentine's Week. Seven days of celebration, each with its own beautiful meaning and activities. Let's make every moment count!`;
    
    // Generate day cards
    const daysGrid = document.getElementById('daysGrid');
    daysGrid.innerHTML = '';
    
    valentineWeek.forEach((dayData) => {
        const card = document.createElement('div');
        card.className = 'day-card';
        card.onclick = () => showDayDetails(dayData, yourName, theirName);
        
        card.innerHTML = `
            <span class="day-emoji">${dayData.emoji}</span>
            <div class="day-name">${dayData.name}</div>
            <div class="day-date">${dayData.date}</div>
            <div class="day-story">${dayData.story.substring(0, 100)}...</div>
            <div class="day-activities">
                <div class="activities-title">Activities</div>
                <div class="activities-list">
                    ${dayData.activities.slice(0, 2).map(a => `<li>${a}</li>`).join('')}
                    <li><strong>+ ${dayData.activities.length - 2} more ‚Üí</strong></li>
                </div>
            </div>
        `;
        
        daysGrid.appendChild(card);
    });
    
    document.getElementById('weekScreen').scrollIntoView({ behavior: 'smooth' });
}

// Show expanded day view
function showDayDetails(dayData, yourName, theirName) {
    document.getElementById('weekScreen').style.display = 'none';
    document.getElementById('dayExpanded').style.display = 'block';
    
    // Personalize the story with names
    let personalizedStory = dayData.story
        .replace(/your beloved/g, `${theirName}`)
        .replace(/two hearts/g, `${yourName} and ${theirName}'s hearts`);
    
    document.getElementById('expandedEmoji').textContent = dayData.emoji;
    document.getElementById('expandedTitle').textContent = dayData.name;
    document.getElementById('expandedDate').textContent = dayData.date;
    document.getElementById('expandedStory').textContent = personalizedStory;
    
    // Display sweet message
    const sweetMessage = dayData.sweetMessage(yourName, theirName);
    document.getElementById('sweetMessage').textContent = sweetMessage;
    
    // Display countdown timer
    updateCountdownTimer(dayData.date);
    
    // Display music playlist
    displayMusicPlaylist(dayData.music);
    
    const activitiesList = document.getElementById('expandedActivities');
    activitiesList.innerHTML = dayData.activities
        .map(activity => `<li>${activity}</li>`)
        .join('');
    
    document.getElementById('dayExpanded').scrollIntoView({ behavior: 'smooth' });
}

// Update countdown timer for each day
function updateCountdownTimer(targetDate) {
    // Parse date string like "February 7" to proper date
    const months = {
        'January': 0, 'February': 1, 'March': 2, 'April': 3,
        'May': 4, 'June': 5, 'July': 6, 'August': 7,
        'September': 8, 'October': 9, 'November': 10, 'December': 11
    };
    
    const dateparts = targetDate.split(' ');
    const monthName = dateparts[0];
    const dayNum = parseInt(dateparts[1]);
    
    const monthIndex = months[monthName];
    const target = new Date(2026, monthIndex, dayNum);
    
    function formatCountdown() {
        const now = new Date();
        const timeLeft = target - now;
        
        if (timeLeft < 0) {
            document.getElementById('countdownDisplay').textContent = "This day is here! üéâ";
            return;
        }
        
        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
        
        document.getElementById('countdownDisplay').textContent = 
            `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }
    
    formatCountdown();
    const timerInterval = setInterval(formatCountdown, 1000);
    
    // Store interval ID to clear if needed
    window.currentTimerInterval = timerInterval;
}

// Display music playlist with embedded YouTube players
function displayMusicPlaylist(musicList) {
    const playlistContainer = document.getElementById('musicPlaylist');
    playlistContainer.innerHTML = '';
    
    musicList.forEach((song, index) => {
        const musicItem = document.createElement('div');
        musicItem.className = 'music-item-wrapper';
        
        // Create search query for YouTube
        const youtubeSearchQuery = encodeURIComponent(song.name + ' ' + song.artist + ' lyric video');
        
        musicItem.innerHTML = `
            <div class="music-header">
                <div class="music-play-btn">üéµ</div>
                <div class="music-info">
                    <div class="music-name">${song.name}</div>
                    <div class="music-artist">${song.artist}</div>
                </div>
            </div>
            <div class="music-player-container">
                <iframe 
                    width="100%" 
                    height="300" 
                    src="https://www.youtube.com/embed/?listType=search&list=${youtubeSearchQuery}" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            </div>
        `;
        
        playlistContainer.appendChild(musicItem);
    });
}

// Back to week plan
function backToStory() {
    document.getElementById('dayExpanded').style.display = 'none';
    document.getElementById('weekScreen').style.display = 'block';
    document.getElementById('weekScreen').scrollIntoView({ behavior: 'smooth' });
}

// Initialize on load
document.addEventListener('DOMContentLoaded', function() {
    createFloatingHearts();
});
</script>

</body>
</html>
